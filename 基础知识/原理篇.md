# new到底发生了什么
```js
    var o = new Foo();
    //JavaScript 实际上执行的是：
    var o = new Object();
    o.[[Prototype]] = Foo.prototype;
    Foo.call(o);

    var o = new Object();
    o.__proto__ = A.prototype;//这里还记得之那个function里面的默认的属性么?
    A.call(o)//由于这里this是指向o,可以把什么this.name/getName绑定到o上.
    把这个o返回给a;//完成var a = new A()的过程.

    1、该函数有return,如果有，但是返回值是基本类型(Number,String,Boolean,undefined,null)时，会忽略掉此return并返回this(this引用的对象),如果返回值是引用类型(对象)，则返回该对象，this会被忽略
    2、该函数没有return,则默认返回this引用的对象


    
```